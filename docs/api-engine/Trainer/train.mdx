---
sidebar_position: 1
---

# Train

This is the process of teaching a machine learning model to make accurate predictions by adjusting its parameters using labeled data. It involves optimizing a specific objective function and aims to create a model that generalizes well to new data.

<Tooltip color="#3abe25">Method: POST</Tooltip> <Tooltip color="#Be2525">
  Authorization: JWT
</Tooltip>
<div style={{ marginBottom: "20px" }}></div>

```bash
https://engine.raccoon-ai.io/api/v1/trainer/ml/new/<algo_type>/<algo_selected>
```
`<algo_type>` and  `<algo_selected>` references as below,

| `<algo_type>`   |          `<algo_selected>`                                      |
| --------------- | ----------------------------------------------------------------|
| regression      | `ann` , `grad-boost`, `log-reg`, `multi-linear`, `random-forest`|
| classification  | `ann`, `grad-boost`, `naive-bayes`, `random-forest`, `svm`      |



## Authorization

| Type | Key           | Value             |
| ---- | ------------- | ----------------- |
| JWT  | Authorization | Bearer ########## |

## Request Body
| Section    | Key      | Data Type | Required | Description                                      |
| -----------| -------- | --------- | -------- | ------------------------------------------------ |
| train      | data     | json      | true     | Data that use to train the model                 |
|            | features | list      | true     | Input features (X)                               |
|            | targets  | list      | true     | Output targets (y)                               |
|            | config   | json      | false    | Train configurations                             |
| project    |project_id| string    | true     | ID of the project                                |


### Types

```json
{
    "train": {
        "data": <json>,
        "features": <list>,
        "targets": <list>,
        "config": <list>,
    "project_id": <string>
}
```

### Sample

```json
{
    "train": {
        "data": {
            "R&D Spend": {
                "0": 165349.2,
                "1": 162597.7,
                "2": 153441.51,
                "3": 144372.41,
                "4": 142107.34,
                "5": 131876.9,
                "6": 134615.46,
                "7": 130298.13,
                "8": 120542.52,
                "9": 123334.88,
                "10": 101913.08,
                "11": 100671.96,
                "12": 93863.75,
                "13": 91992.39,
                "14": 119943.24,
                "15": 114523.61,
                "16": 78013.11,
                "17": 94657.16,
                "18": 91749.16,
                "19": 86419.7,
                "20": 76253.86,
                "21": 78389.47,
                "22": 73994.56,
                "23": 67532.53,
                "24": 77044.01,
                "25": 64664.71,
                "26": 75328.87,
                "27": 72107.6,
                "28": 66051.52,
                "29": 65605.48,
                "30": 61994.48,
                "31": 61136.38,
                "32": 63408.86,
                "33": 55493.95,
                "34": 46426.07,
                "35": 46014.02,
                "36": 28663.76,
                "37": 44069.95,
                "38": 20229.59,
                "39": 38558.51,
                "40": 28754.33,
                "41": 27892.92,
                "42": 23640.93,
                "43": 15505.73,
                "44": 22177.74,
                "45": 1000.23,
                "46": 1315.46,
                "47": 0.0,
                "48": 542.05,
                "49": 0.0
            },
            "Administration": {
                "0": 136897.8,
                "1": 151377.59,
                "2": 101145.55,
                "3": 118671.85,
                "4": 91391.77,
                "5": 99814.71,
                "6": 147198.87,
                "7": 145530.06,
                "8": 148718.95,
                "9": 108679.17,
                "10": 110594.11,
                "11": 91790.61,
                "12": 127320.38,
                "13": 135495.07,
                "14": 156547.42,
                "15": 122616.84,
                "16": 121597.55,
                "17": 145077.58,
                "18": 114175.79,
                "19": 153514.11,
                "20": 113867.3,
                "21": 153773.43,
                "22": 122782.75,
                "23": 105751.03,
                "24": 99281.34,
                "25": 139553.16,
                "26": 144135.98,
                "27": 127864.55,
                "28": 182645.56,
                "29": 153032.06,
                "30": 115641.28,
                "31": 152701.92,
                "32": 129219.61,
                "33": 103057.49,
                "34": 157693.92,
                "35": 85047.44,
                "36": 127056.21,
                "37": 51283.14,
                "38": 65947.93,
                "39": 82982.09,
                "40": 118546.05,
                "41": 84710.77,
                "42": 96189.63,
                "43": 127382.3,
                "44": 154806.14,
                "45": 124153.04,
                "46": 115816.21,
                "47": 135426.92,
                "48": 51743.15,
                "49": 116983.8
            },
            "Marketing Spend": {
                "0": 471784.1,
                "1": 443898.53,
                "2": 407934.54,
                "3": 383199.62,
                "4": 366168.42,
                "5": 362861.36,
                "6": 127716.82,
                "7": 323876.68,
                "8": 311613.29,
                "9": 304981.62,
                "10": 229160.95,
                "11": 249744.55,
                "12": 249839.44,
                "13": 252664.93,
                "14": 256512.92,
                "15": 261776.23,
                "16": 264346.06,
                "17": 282574.31,
                "18": 294919.57,
                "19": 0.0,
                "20": 298664.47,
                "21": 299737.29,
                "22": 303319.26,
                "23": 304768.73,
                "24": 140574.81,
                "25": 137962.62,
                "26": 134050.07,
                "27": 353183.81,
                "28": 118148.2,
                "29": 107138.38,
                "30": 91131.24,
                "31": 88218.23,
                "32": 46085.25,
                "33": 214634.81,
                "34": 210797.67,
                "35": 205517.64,
                "36": 201126.82,
                "37": 197029.42,
                "38": 185265.1,
                "39": 174999.3,
                "40": 172795.67,
                "41": 164470.71,
                "42": 148001.11,
                "43": 35534.17,
                "44": 28334.72,
                "45": 1903.93,
                "46": 297114.46,
                "47": 0.0,
                "48": 0.0,
                "49": 45173.06
            },
            "State": {
                "0": "New York",
                "1": "California",
                "2": "Florida",
                "3": "New York",
                "4": "Florida",
                "5": "New York",
                "6": "California",
                "7": "Florida",
                "8": "New York",
                "9": "California",
                "10": "Florida",
                "11": "California",
                "12": "Florida",
                "13": "California",
                "14": "Florida",
                "15": "New York",
                "16": "California",
                "17": "New York",
                "18": "Florida",
                "19": "New York",
                "20": "California",
                "21": "New York",
                "22": "Florida",
                "23": "Florida",
                "24": "New York",
                "25": "California",
                "26": "Florida",
                "27": "New York",
                "28": "Florida",
                "29": "New York",
                "30": "Florida",
                "31": "New York",
                "32": "California",
                "33": "Florida",
                "34": "California",
                "35": "New York",
                "36": "Florida",
                "37": "California",
                "38": "New York",
                "39": "California",
                "40": "California",
                "41": "Florida",
                "42": "California",
                "43": "New York",
                "44": "California",
                "45": "New York",
                "46": "Florida",
                "47": "California",
                "48": "New York",
                "49": "California"
            },
            "Profit": {
                "0": 192261.83,
                "1": 191792.06,
                "2": 191050.39,
                "3": 182901.99,
                "4": 166187.94,
                "5": 156991.12,
                "6": 156122.51,
                "7": 155752.6,
                "8": 152211.77,
                "9": 149759.96,
                "10": 146121.95,
                "11": 144259.4,
                "12": 141585.52,
                "13": 134307.35,
                "14": 132602.65,
                "15": 129917.04,
                "16": 126992.93,
                "17": 125370.37,
                "18": 124266.9,
                "19": 122776.86,
                "20": 118474.03,
                "21": 111313.02,
                "22": 110352.25,
                "23": 108733.99,
                "24": 108552.04,
                "25": 107404.34,
                "26": 105733.54,
                "27": 105008.31,
                "28": 103282.38,
                "29": 101004.64,
                "30": 99937.59,
                "31": 97483.56,
                "32": 97427.84,
                "33": 96778.92,
                "34": 96712.8,
                "35": 96479.51,
                "36": 90708.19,
                "37": 89949.14,
                "38": 81229.06,
                "39": 81005.76,
                "40": 78239.91,
                "41": 77798.83,
                "42": 71498.49,
                "43": 69758.98,
                "44": 65200.33,
                "45": 64926.08,
                "46": 49490.75,
                "47": 42559.73,
                "48": 35673.41,
                "49": 14681.4
            }
        },
        "features": [
            "R&D Spend",
            "Administration",
            "Marketing Spend",
            "State"
        ],
        "targets": [
            "Profit"
        ],
        "config": {
            "std_scale": true,
            "encoder": "onehot"
        }
    },
    "project_id": "Project1-96507"
}
```

## Reponse Body

| Key        | Data Type | Description                                          |
| ---------- | --------- | ---------------------------------------------------- |
| success    | boolean   | Indicate the success of the request                  |
| msg        | string    | Message indicators                                   |
| error_code | int       | Error code information, only set if success is false |
| result     | json      | Result, only set if success is true                  |
| gen_at     | datetime  | Generated datetime                                   |

### Types

```json
{
  "success": <boolean>,
  "msg": <string>,
  "error_code": <int>,
  "result": <json>,
  "gen_at": <datetime>
}
```

### Sample

```json
{
    "success": true,
    "msg": "Model trained successfully",
    "error_code": null,
    "result": {
        "score": {
            "train": 0.942446542689397,
            "test": 0.9649618042060305
        },
        "cached_in": {
            "id": "1686023662.253265",
            "user_id": "7f7c0c39-0930-43f2-81a3-29e3cffecaa4",
            "model_path": "/home/navi/CODE/Raccoon-AI-Engine/app/storage/cached/ml/Project1-96507/7f7c0c39-0930-43f2-81a3-29e3cffecaa4/1686023662.253265.jlb",
            "features": [
                "R&D Spend",
                "Administration",
                "Marketing Spend",
                "State"
            ],
            "targets": [
                "Profit"
            ],
            "algo_type": "Multiple Linear Regressor",
            "types_map": {
                "R&D Spend": "float64",
                "Administration": "float64",
                "Marketing Spend": "float64",
                "State": "object",
                "Profit": "float64"
            },
            "project_id": "Project1-96507",
            "train_accu": 0.942446542689397,
            "test_accu": 0.9649618042060305,
            "dataset": null,
            "permanent_save": false,
            "created_ts": "2023-06-06T03:54:22.255924",
            "updated_ts": "2023-06-06T03:54:22.255929"
        }
    },
    "gen_at": "2023-06-06T03:54:22.609745"
}
```

export const Tooltip = ({ children, color }) => (
  <span
    style={{
      backgroundColor: color,
      borderRadius: "20px",
      color: "#fff",
      padding: "7px",
      cursor: "pointer",
      fontWeight: "750",
      fontSize: "15px",
      position: "relative",
      bottom: "4px",
    }}
    onClick={() => {
      alert(`You clicked the color ${color} with label ${children}`);
    }}
  >
    {children}
  </span>
);
